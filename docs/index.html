<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Resim yükle AVİF'e çevrilsin</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="app">
    <div class="top">
      <div class="brand">
        <h1>Resim yükle AVİF'e çevrilsin</h1>
        <p>Handle’ı sürükle: sol ORİJİNAL, sağ AVIF. Zoom + yön tuşlarıyla incele.</p>
      </div>

      <div class="pick">
        <input id="file" type="file" accept="image/*" />
      </div>

      <!-- İndir butonu: Dosya Seç ile KPI arasına -->
      <div class="dl" id="download"></div>

      <div class="kpi" aria-live="polite">
        <div class="big">
          <div class="pct" id="pct">—</div>
          <div class="sizes" id="sizes">—</div>
        </div>
        <div class="meter"><i id="meterFill"></i></div>
      </div>

      <!-- Zoom / Pan controls -->
      <div class="tools" aria-label="Zoom ve yön kontrolleri">
        <button class="btn" id="zoomOut" title="Zoom out">−</button>
        <button class="btn" id="zoomIn" title="Zoom in">+</button>
        <button class="btn secondary" id="resetView" title="Sıfırla">Sıfırla</button>

        <div class="dpad" aria-label="Yön tuşları">
          <button class="btn" id="panUp" title="Yukarı">↑</button>
          <div class="dpadRow">
            <button class="btn" id="panLeft" title="Sol">←</button>
            <button class="btn" id="panRight" title="Sağ">→</button>
          </div>
          <button class="btn" id="panDown" title="Aşağı">↓</button>
        </div>
      </div>
    </div>

    <div class="status" id="status">AVIF motoru yükleniyor…</div>

    <div class="stage">
      <div class="badge">
        <span class="chip">ORİJİNAL <span class="meta" id="metaLeft"></span></span>
        <span class="dot">•</span>
        <span class="chip">AVIF <span class="meta" id="metaRight"></span></span>
      </div>

      <div class="cornerLabels">
        <div class="corner left">ORİJİNAL</div>
        <div class="corner right">AVIF</div>
      </div>

      <div class="overlay" id="overlay">
        <div class="convertBox">
          <div class="convertRow">
            <div class="rowLeft">
              <div class="spinner" aria-hidden="true"></div>
              <div class="convertTitle">Çevriliyor…</div>
            </div>
            <div class="convertTitle">AVIF</div>
          </div>
          <div class="convertSub" id="convSub">Tarayıcı içinde dönüştürülüyor…</div>
          <div class="bar" aria-hidden="true"><i></i></div>
        </div>
      </div>

      <div class="viewport" id="vp">
        <div class="center">
          <div class="content" id="content">
            <img id="imgOriginal" class="layer" alt="Original" draggable="false" />
            <img id="imgAvif" class="layer" alt="AVIF" draggable="false" />
          </div>
        </div>

        <!-- Split UI (custom drag) -->
        <div class="splitUI" id="splitUI">
          <div class="handleGrab" id="handleGrab" aria-label="Karşılaştırma slider'ı"></div>
          <div class="handleLine" id="handleLine"></div>
          <div class="handleKnob" id="handleKnob">
            <span class="lbl left">ORİJİNAL</span>
            <span class="sep">↔</span>
            <span class="lbl right">AVIF</span>
            <span class="pctTag" id="splitPct">50%</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./app.js"></script>
</body>
</html>
